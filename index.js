
// 2,4
module.exports = function(w,h){
  var r, ret;
  module.exports.each(function(o){
    var s = o.nominal_size;
    if( (s[0] === w && s[1] === h) || (s[0] === h && s[1] === w) ) {
      ret = o;
      return false;
    }
  })
  return ret;
}

/*
var sorted;

module.exports.search = function(){
  if(!sorted) {

    // add area to rows.
    module.exports.iterate(function(r,i){
      rows[i][3] = r.actual_size[0]*r.actual_size[1];
    })

    // sort by area
    rows.sort(function(r1,r2){
      return r1[3]>r2[3]?1:(r2[3]>r1[3]?-1:0)
    })

    sorted = true;
  }

  console.log(sorted) 
}
*/


module.exports.each = function(cb){
  var r,o,i,j;
  for (i=0;i<rows.length;++i){
    r = rows[i]
    o = {}
    
    for(j=0;j<fields.length;++j){
      o[fields[j]] = r[j]
    }
    if(cb(o,i) === false) break; 
  } 
}

var fields = module.exports.fields = ["nominal_size","actual_size", "weight_per_foot_lbs"]

// weights based on 35 lbs cu in ft
module.exports.cuinft = 35

var rows = module.exports.rows = [
  [
    [1 , 3],
    [.75 , 2.5],
    0.47
  ],
  [ 
    [1 , 4],
    [.75 , 3.5],
    0.64
  ],
  [
    [1 , 6],
    [.75 , 5.5],
    1.00
  ],
  [
    [1 , 8],
    [.75 , 7.25],
    1.32
  ],
  [
    [1 , 10],
    [.75 , 9.25],
    1.69
  ],
  [
    [1 , 12],
    [.75 , 11.25],
    2.05,
  ],
  [
    [2 , 3],
    [1.5 , 2.5],
    0.94
  ],
  [
    [2 , 4],
    [1.5 , 3.5],
    1.28
  ],
  [
    [2 , 6],
    [1.5 , 5.5],
    2.00,
  ],
  [
    [2 , 8],
    [1.5 , 7.25],
    [2.64]
  ],
  [
    [ 2 , 10],
    [1.5 , 9.25],
    3.37
  ],
  [
    [2 , 12],
    [1.5 , 11.25],
    4.10
  ],
  [
    [2 , 14],
    [1.5 , 13.25],
    4.83
  ],
  [
    [3 , 3],
    [2.5 , 2.5],
    1.52
  ],
  [
    [3 , 4],
    [2.5 , 3.5],
    2.13
  ],
  [
    [ 3 , 6],
    [2.5 , 5.5],
    3.34
  ],
  [
    [ 3 , 8],
    [2.5 , 7.25],
    4.41
  ],[
    [3 , 10],
    [2.5 , 9.25],
    [5.62]
  ],
  [
    [3 , 12],
    [2.5 , 11.25],
    6.84
  ],
  [
    [3 , 14],
    [2.5 , 13.25],
    8.05
  ],
  [
    [3 , 16],
    [2.5 , 15.25],
    9.27
  ],
  [
    [4 , 4],
    [3.5 , 3.5],
    2.98
  ],
  [
    [4 , 6],
    [3.5 , 5.5],
    4.68
  ],
  [
    [4 , 8],
    [3.5 , 7.25],
    [6.17]
  ],
  [
    [4 , 10],
    [3.5 , 9.25],
    7.78
  ],
  [
    [4 , 12],
    [3.5 , 11.25],
    9.57
  ],
  [
    [4 , 14],
    [3.5 , 13.25],
    11.28
  ],
  [
    [4 , 16],
    [3.5 , 15.25],
    12.98
  ],
  [
    [6 , 6],
    [5.5 , 5.5],
    7.35
  ],
  [
    [6 , 8],
    [5.5 , 7.5],
    10.03
  ],
  [
    [6 , 10],
    [5.5 , 9.5],
    [12.70]
  ],
  [
    [6 , 12],
    [5.5 , 11.5],
    15.37
  ],
  [
    [6 , 14],
    [5.5 , 13.5],
    18.05
  ],
  [
    [6 , 16],
    [5.5 , 15.5],
    20.72
  ],
  [
    [6 , 18],
    [5.5 , 17.5],
    23.29
  ],
  [
    [8 , 8],
    [7.5 , 7.5],
    13.67
  ],
  [
    [8 , 10],
    [7.5 , 9.5],
    17.32
  ],
  [
    [8 , 12],
    [7.5 , 11.5],
    20.96
  ],
  [
    [8 , 14],
    [7.5 , 13.5],
    24.61
  ],
  [
    [8 , 16],
    [7.5 , 15.5],
    28.26
  ],
  [
    [8 , 18],
    [7.5 , 17.5],
    31.90
  ],
  [
    [10 , 10],
    [9.5 , 9.5],
    21.94
  ],
  [
    [10 , 12],
    [9.5 , 11.5],
    26.55
  ],
  [
    [10 , 14],
    [9.5 , 13.5],
    31.17
  ],
  [
    [10 , 16],
    [9.5 , 15.5],
    35.79
  ],
  [
    [10 , 18],
    [9.5 , 17.5],
    40.41
  ],
  [
    [12 , 12],
    [11.5 , 11.5],
    32.14
  ],
  [
    [12 , 14],
    [11.5 , 13.5],
    37.73
  ],
  [
    [12 , 16],
    [11.5 , 15.5],
    43.33
  ]
];



